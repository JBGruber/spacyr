<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parse a text using spaCy — spacy_parse • spacyr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Parse a text using spaCy — spacy_parse" />
<meta property="og:description" content="The spacy_parse() function calls spaCy to both tokenize and tag the
texts, and returns a data.table of the results. The function provides options
on the types of tagsets (tagset_ options) either  &quot;google&quot; or
&quot;detailed&quot;, as well as lemmatization (lemma). It provides a
functionalities of dependency parsing and named entity recognition as an
option. If &quot;full_parse = TRUE&quot; is provided, the function returns the
most extensive list of the parsing results from spaCy." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spacyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Installation</a>
</li>
<li>
  <a href="../articles/using_spacyr.html">Using spacyr</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/spacyr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parse a text using spaCy</h1>
    
    <div class="hidden name"><code>spacy_parse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>spacy_parse()</code> function calls spaCy to both tokenize and tag the
texts, and returns a data.table of the results. The function provides options
on the types of tagsets (<code>tagset_</code> options) either  <code>"google"</code> or
<code>"detailed"</code>, as well as lemmatization (<code>lemma</code>). It provides a
functionalities of dependency parsing and named entity recognition as an
option. If <code>"full_parse = TRUE"</code> is provided, the function returns the
most extensive list of the parsing results from spaCy.</p>
    </div>

    <pre class="usage"><span class='fu'>spacy_parse</span>(
  <span class='no'>x</span>,
  <span class='kw'>pos</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>tag</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>lemma</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>entity</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>dependency</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>nounphrase</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>multithread</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>additional_attributes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a character object, a <span class="pkg">quanteda</span> corpus, or a TIF-compliant
corpus data.frame (see <a href='https://github.com/ropensci/tif'>https://github.com/ropensci/tif</a>)</p></td>
    </tr>
    <tr>
      <th>pos</th>
      <td><p>logical whether to return universal dependency POS tagset
<a href='http://universaldependencies.org/u/pos/'>http://universaldependencies.org/u/pos/</a>)</p></td>
    </tr>
    <tr>
      <th>tag</th>
      <td><p>logical whether to return detailed part-of-speech tags, for the
language model <code>en</code>, it uses the OntoNotes 5 version of the Penn
Treebank tag set
(<a href='https://spacy.io/docs/usage/pos-tagging#pos-schemes'>https://spacy.io/docs/usage/pos-tagging#pos-schemes</a>). Annotation
specifications for other available languages are available on the spaCy
website (<a href='https://spacy.io/api/annotation'>https://spacy.io/api/annotation</a>).</p></td>
    </tr>
    <tr>
      <th>lemma</th>
      <td><p>logical; include lemmatized tokens in the output (lemmatization
may not work properly for non-English models)</p></td>
    </tr>
    <tr>
      <th>entity</th>
      <td><p>logical; if <code>TRUE</code>, report named entities</p></td>
    </tr>
    <tr>
      <th>dependency</th>
      <td><p>logical; if <code>TRUE</code>, analyse and tag dependencies</p></td>
    </tr>
    <tr>
      <th>nounphrase</th>
      <td><p>logical; if <code>TRUE</code>, analyse and tag noun phrases
tags</p></td>
    </tr>
    <tr>
      <th>multithread</th>
      <td><p>logical; If <code>TRUE</code>, the processing is parallelized
using spaCy's architecture (<a href='https://spacy.io/api'>https://spacy.io/api</a>)</p></td>
    </tr>
    <tr>
      <th>additional_attributes</th>
      <td><p>a character vector; this option is for
extracting additional attributes of tokens from spaCy. When the names of
attributes are supplied, the output data.frame will contain additional
variables corresponding to the names of the attributes. For instance, when
<code>additional_attributes = c("is_punct")</code>, the output will include an
additional variable named <code>is_punct</code>, which is a Boolean (in R,
logical) variable indicating whether  the token is a punctuation. A full
list of available attributes is available from
<a href='https://spacy.io/api/token#attributes'>https://spacy.io/api/token#attributes</a>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>not used directly</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>data.frame</code> of tokenized, parsed, and annotated tokens</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='fu'><a href='spacy_initialize.html'>spacy_initialize</a></span>()</div><div class='output co'>#&gt; <span class='message'>spaCy is already initialized</span></div><div class='output co'>#&gt; NULL</div><div class='input'><span class='co'># See Chap 5.1 of the NLTK book, http://www.nltk.org/book/ch05.html</span>
<span class='no'>txt</span> <span class='kw'>&lt;-</span> <span class='st'>"And now for something completely different."</span>
<span class='fu'>spacy_parse</span>(<span class='no'>txt</span>)</div><div class='output co'>#&gt;   doc_id sentence_id token_id      token      lemma   pos entity
#&gt; 1  text1           1        1        And        and CCONJ       
#&gt; 2  text1           1        2        now        now   ADV       
#&gt; 3  text1           1        3        for        for   ADP       
#&gt; 4  text1           1        4  something  something  PRON       
#&gt; 5  text1           1        5 completely completely   ADV       
#&gt; 6  text1           1        6  different  different   ADJ       
#&gt; 7  text1           1        7          .          . PUNCT       </div><div class='input'><span class='fu'>spacy_parse</span>(<span class='no'>txt</span>, <span class='kw'>pos</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>tag</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;   doc_id sentence_id token_id      token      lemma   pos tag entity
#&gt; 1  text1           1        1        And        and CCONJ  CC       
#&gt; 2  text1           1        2        now        now   ADV  RB       
#&gt; 3  text1           1        3        for        for   ADP  IN       
#&gt; 4  text1           1        4  something  something  PRON  NN       
#&gt; 5  text1           1        5 completely completely   ADV  RB       
#&gt; 6  text1           1        6  different  different   ADJ  JJ       
#&gt; 7  text1           1        7          .          . PUNCT   .       </div><div class='input'><span class='fu'>spacy_parse</span>(<span class='no'>txt</span>, <span class='kw'>dependency</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;   doc_id sentence_id token_id      token      lemma   pos head_token_id dep_rel
#&gt; 1  text1           1        1        And        and CCONJ             3      cc
#&gt; 2  text1           1        2        now        now   ADV             3  advmod
#&gt; 3  text1           1        3        for        for   ADP             3    ROOT
#&gt; 4  text1           1        4  something  something  PRON             3    pobj
#&gt; 5  text1           1        5 completely completely   ADV             6  advmod
#&gt; 6  text1           1        6  different  different   ADJ             4    amod
#&gt; 7  text1           1        7          .          . PUNCT             3   punct
#&gt;   entity
#&gt; 1       
#&gt; 2       
#&gt; 3       
#&gt; 4       
#&gt; 5       
#&gt; 6       
#&gt; 7       </div><div class='input'>
<span class='no'>txt2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>doc1</span> <span class='kw'>=</span> <span class='st'>"The fast cat catches mice.\\nThe quick brown dog jumped."</span>,
          <span class='kw'>doc2</span> <span class='kw'>=</span> <span class='st'>"This is the second document."</span>,
          <span class='kw'>doc3</span> <span class='kw'>=</span> <span class='st'>"This is a \\\"quoted\\\" text."</span> )
<span class='fu'>spacy_parse</span>(<span class='no'>txt2</span>, <span class='kw'>entity</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>dependency</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;    doc_id sentence_id token_id    token    lemma   pos head_token_id  dep_rel
#&gt; 1    doc1           1        1      The      the   DET             3      det
#&gt; 2    doc1           1        2     fast     fast   ADJ             3     amod
#&gt; 3    doc1           1        3      cat      cat  NOUN             4    nsubj
#&gt; 4    doc1           1        4  catches    catch  NOUN             5 compound
#&gt; 5    doc1           1        5     mice    mouse  NOUN             5     ROOT
#&gt; 6    doc1           1        6        .        . PUNCT             5    punct
#&gt; 7    doc1           1        7       \n       \n SPACE             6         
#&gt; 8    doc1           2        1      The      the   DET             4      det
#&gt; 9    doc1           2        2    quick    quick   ADJ             4     amod
#&gt; 10   doc1           2        3    brown    brown   ADJ             4     amod
#&gt; 11   doc1           2        4      dog      dog  NOUN             5    nsubj
#&gt; 12   doc1           2        5   jumped     jump  VERB             5     ROOT
#&gt; 13   doc1           2        6        .        . PUNCT             5    punct
#&gt; 14   doc2           1        1     This     this   DET             2    nsubj
#&gt; 15   doc2           1        2       is       be   AUX             2     ROOT
#&gt; 16   doc2           1        3      the      the   DET             5      det
#&gt; 17   doc2           1        4   second   second   ADJ             5     amod
#&gt; 18   doc2           1        5 document document  NOUN             2     attr
#&gt; 19   doc2           1        6        .        . PUNCT             2    punct
#&gt; 20   doc3           1        1     This     this   DET             2    nsubj
#&gt; 21   doc3           1        2       is       be   AUX             2     ROOT
#&gt; 22   doc3           1        3        a        a   DET             7      det
#&gt; 23   doc3           1        4        "        " PUNCT             7    punct
#&gt; 24   doc3           1        5   quoted    quote  VERB             7     amod
#&gt; 25   doc3           1        6        "        " PUNCT             7    punct
#&gt; 26   doc3           1        7     text     text  NOUN             2     attr
#&gt; 27   doc3           1        8        .        . PUNCT             2    punct
#&gt;       entity
#&gt; 1           
#&gt; 2           
#&gt; 3           
#&gt; 4           
#&gt; 5           
#&gt; 6           
#&gt; 7           
#&gt; 8           
#&gt; 9           
#&gt; 10          
#&gt; 11          
#&gt; 12          
#&gt; 13          
#&gt; 14          
#&gt; 15          
#&gt; 16          
#&gt; 17 ORDINAL_B
#&gt; 18          
#&gt; 19          
#&gt; 20          
#&gt; 21          
#&gt; 22          
#&gt; 23          
#&gt; 24          
#&gt; 25          
#&gt; 26          
#&gt; 27          </div><div class='input'>
<span class='no'>txt3</span> <span class='kw'>&lt;-</span> <span class='st'>"We analyzed the Supreme Court with three natural language processing tools."</span>
<span class='fu'>spacy_parse</span>(<span class='no'>txt3</span>, <span class='kw'>entity</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>nounphrase</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;    doc_id sentence_id token_id      token      lemma   pos     entity
#&gt; 1   text1           1        1         We     -PRON-  PRON           
#&gt; 2   text1           1        2   analyzed    analyze  VERB           
#&gt; 3   text1           1        3        the        the   DET      ORG_B
#&gt; 4   text1           1        4    Supreme    Supreme PROPN      ORG_I
#&gt; 5   text1           1        5      Court      Court PROPN      ORG_I
#&gt; 6   text1           1        6       with       with   ADP           
#&gt; 7   text1           1        7      three      three   NUM CARDINAL_B
#&gt; 8   text1           1        8    natural    natural   ADJ           
#&gt; 9   text1           1        9   language   language  NOUN           
#&gt; 10  text1           1       10 processing processing  NOUN           
#&gt; 11  text1           1       11      tools       tool  NOUN           
#&gt; 12  text1           1       12          .          . PUNCT           
#&gt;    nounphrase whitespace
#&gt; 1    beg_root       TRUE
#&gt; 2                   TRUE
#&gt; 3         beg       TRUE
#&gt; 4         mid       TRUE
#&gt; 5    end_root       TRUE
#&gt; 6                   TRUE
#&gt; 7         beg       TRUE
#&gt; 8         mid       TRUE
#&gt; 9         mid       TRUE
#&gt; 10        mid       TRUE
#&gt; 11   end_root      FALSE
#&gt; 12                 FALSE</div><div class='input'><span class='fu'>spacy_parse</span>(<span class='no'>txt3</span>, <span class='kw'>additional_attributes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"like_num"</span>, <span class='st'>"is_punct"</span>))</div><div class='output co'>#&gt;    doc_id sentence_id token_id      token      lemma   pos     entity like_num
#&gt; 1   text1           1        1         We     -PRON-  PRON               FALSE
#&gt; 2   text1           1        2   analyzed    analyze  VERB               FALSE
#&gt; 3   text1           1        3        the        the   DET      ORG_B    FALSE
#&gt; 4   text1           1        4    Supreme    Supreme PROPN      ORG_I    FALSE
#&gt; 5   text1           1        5      Court      Court PROPN      ORG_I    FALSE
#&gt; 6   text1           1        6       with       with   ADP               FALSE
#&gt; 7   text1           1        7      three      three   NUM CARDINAL_B     TRUE
#&gt; 8   text1           1        8    natural    natural   ADJ               FALSE
#&gt; 9   text1           1        9   language   language  NOUN               FALSE
#&gt; 10  text1           1       10 processing processing  NOUN               FALSE
#&gt; 11  text1           1       11      tools       tool  NOUN               FALSE
#&gt; 12  text1           1       12          .          . PUNCT               FALSE
#&gt;    is_punct
#&gt; 1     FALSE
#&gt; 2     FALSE
#&gt; 3     FALSE
#&gt; 4     FALSE
#&gt; 5     FALSE
#&gt; 6     FALSE
#&gt; 7     FALSE
#&gt; 8     FALSE
#&gt; 9     FALSE
#&gt; 10    FALSE
#&gt; 11    FALSE
#&gt; 12     TRUE</div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Akitaka Matsuo, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '6db886781d6c5d5b8b62b7b72b1d1b7c',
    indexName: 'spacyr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


